(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{5383:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/framebuffer",function(){return i(7256)}])},7256:function(e,t,i){"use strict";i.r(t);var n=i(9957),o=i(7472),a=i(9405),r=i(4145),s=i(3766),c=i.n(s),h=i(3470),l=i(8833),d=i(7076),u=i(3115),f=i(4204),g=i.n(f),m=i(1348),p=i(1361),b=i(4937),w=i(8298),k=new(function(){function e(){(0,o.Z)(this,e),this.width=0,this.height=0,this.imageData=void 0,this.demoModeVisible=!1,(0,d.ky)(this,{toggleDemoModeVisible:d.aD.bound})}var t=e.prototype;return t.setImage=function(e){this.width=e.width,this.height=e.height,this.imageData=new ImageData(new Uint8ClampedArray(e.data),e.width,e.height)},t.toggleDemoModeVisible=function(){this.demoModeVisible=!this.demoModeVisible},e}());t.default=(0,u.Pi)((function(){var e=(0,m.useRef)(null),t=(0,m.useCallback)((0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.q.device){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b.q.device.framebuffer();case 5:t=e.sent,k.setImage(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b.q.showErrorDialog(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),[]);(0,m.useEffect)((function(){return(0,d.EH)((function(){var t=e.current;t&&k.imageData&&(t.width=k.width,t.height=k.height,t.getContext("2d").putImageData(k.imageData,0,0))}))}),[]);var i=(0,d.Fl)((function(){return[{key:"start",disabled:!b.q.device,iconProps:{iconName:w.PJ.Camera,style:{height:20,fontSize:20,lineHeight:1.5}},text:"Capture",onClick:t},{key:"Save",disabled:!k.imageData,iconProps:{iconName:w.PJ.Save,style:{height:20,fontSize:20,lineHeight:1.5}},text:"Save",onClick:function(){var t=e.current;if(t){var i=t.toDataURL(),n=document.createElement("a");n.href=i,n.download="Screenshot of ".concat(b.q.backend.name,".png"),n.click()}}}]})),o=(0,d.Fl)((function(){return[{key:"DemoMode",iconProps:{iconName:w.PJ.Wand,style:{height:20,fontSize:20,lineHeight:1.5}},checked:k.demoModeVisible,text:"Demo Mode",onClick:k.toggleDemoModeVisible},{key:"info",iconProps:{iconName:w.PJ.Info,style:{height:20,fontSize:20,lineHeight:1.5}},iconOnly:!0,tooltipHostProps:{content:"Use ADB FrameBuffer command to capture a full-size, high-resolution screenshot.",calloutProps:{calloutMaxWidth:250}}}]}));return(0,h.jsxs)(l.K,(0,r.Z)((0,a.Z)({},w.LE),{children:[(0,h.jsx)(g(),{children:(0,h.jsx)("title",{children:"Screen Capture - Android Web Toolbox"})}),(0,h.jsx)(p.X3,{items:i.get(),farItems:o.get()}),(0,h.jsxs)(l.K,{horizontal:!0,grow:!0,styles:{root:{height:0}},children:[(0,h.jsx)(p.wM,{width:k.width,height:k.height,children:(0,h.jsx)("canvas",{ref:e,style:{display:"block"}})}),(0,h.jsx)(p.bq,{style:{display:k.demoModeVisible?"block":"none"}})]})]}))}))}},function(e){e.O(0,[774,888,179],(function(){return t=5383,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=framebuffer-85bcfac108a332e8.js.map