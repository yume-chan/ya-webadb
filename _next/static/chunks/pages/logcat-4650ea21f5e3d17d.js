(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793],{2540:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logcat",function(){return o(5630)}])},1426:function(e,t,o){"use strict";o.d(t,{X:function(){return n}});var i=o(6427),r=o(4411);function n(){let[e,t]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return;let t=e.parentElement,o=t.style.flexGrow;return t.style.flexGrow="1",()=>{t.style.flexGrow=o}},[e]),(0,i.jsx)("div",{ref:t})}},5630:function(e,t,o){"use strict";o.r(t);var i=o(6427),r=o(3366),n=o(958),a=o(5034),s=o(6195),l=o(6234),c=o(2375),m=o(8909),d=o(2089),h=o(5876),f=o(4831),u=o(3808),p=o(6663),k=o(8527),g=o.n(k),y=o(4411),C=o(6048),v=o(1426),P=o(396),w=o(2790);let x=(0,l.Z)({grid:{height:"100%",marginLeft:"-16px",marginRight:"-16px"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...c.q5.overflow("hidden")},rowVerbose:{color:"#000000"},rowDebug:{color:"#000000"},rowInfo:{color:"#000000"},rowWarn:{color:"#645607"},rowError:{color:"#CD0000"},rowFatal:{color:"#CD0000"}}),D=(0,u.ky)({logcat:void 0,running:!1,buffer:[],flushRequested:!1,list:[],selection:new C.x$,count:0,stream:void 0,stopSignal:void 0,animationFrameId:void 0,format:d.vj.ThreadTime,formatModifierUid:!1,formatModifierTimezone:!1,formatTime:"default",formatNanosecond:"millisecond",formatEntry(e){return e.toString(this.format,{uid:this.formatModifierUid,year:"year"===this.formatTime,epoch:"epoch"===this.formatTime,monotonic:"monotonic"===this.formatTime,microseconds:"microsecond"===this.formatNanosecond,nanoseconds:"nanosecond"===this.formatNanosecond,timezone:this.formatModifierTimezone})},start(){this.running||(this.list=[],this.running=!0,this.stream=this.logcat.binary(),this.stopSignal=new h.AbortController,this.stream.pipeTo(new h.WritableStream({write:e=>{this.buffer.push(e),this.flushRequested||(this.flushRequested=!0,requestAnimationFrame(this.flush))}}),{signal:this.stopSignal.signal}).catch(e=>{var t;if(null===(t=this.stopSignal)||void 0===t||!t.signal.aborted)throw e}))},flush(){this.list.push(...this.buffer),this.buffer=[],this.flushRequested=!1},stop(){this.running=!1,this.stopSignal.abort()},clear(){this.list=[],this.selection.clear()},get empty(){return 0===this.list.length},get commandBar(){return[this.running?{key:"stop",text:"Stop",iconProps:{iconName:w.PJ.Stop},onClick:()=>this.stop()}:{key:"start",text:"Start",disabled:void 0===this.logcat,iconProps:{iconName:w.PJ.Play},onClick:()=>this.start()},{key:"clear",text:"Clear",disabled:this.empty,iconProps:{iconName:w.PJ.Delete},onClick:()=>this.clear()},{key:"select-all",disabled:this.empty,iconProps:{iconName:w.PJ.Wand},text:"Select All",onClick:(0,u.aD)(()=>{this.selection.clear(),this.selection.select(this.list.length-1,!1,!0)})},{key:"copy",text:"Copy Selected",disabled:0===this.selection.size,iconProps:{iconName:w.PJ.Copy},onClick:()=>{let e="";for(let t of this.selection)e+=this.formatEntry(this.list[t])+"\n";e=e.replace(/\u0000/g,""),navigator.clipboard.writeText(e)}},{key:"save",text:"Save Selected",disabled:0===this.selection.size,iconProps:{iconName:w.PJ.Save},onClick:()=>{let e=(0,w.yH)("logcat.txt"),t=e.getWriter();for(let e of this.selection)t.write((0,f.lz)(this.formatEntry(this.list[e])+"\n"));t.close()}},{key:"spacer",onRender:()=>(0,i.jsx)(v.X,{})},{key:"separator",disabled:!0,itemType:r.n.Divider},{key:"format",iconProps:{iconName:w.PJ.TextGrammarSettings},text:"Format",subMenuProps:{items:[{key:"format",text:"Format",itemType:r.n.Header},{key:"brief",text:"Brief",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Brief,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Brief})},{key:"process",text:"Process",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Process,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Process})},{key:"tag",text:"Tag",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Tag,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Tag})},{key:"thread",text:"Thread",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Thread,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Thread})},{key:"raw",text:"Raw",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Raw,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Raw})},{key:"time",text:"Time",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Time,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Time})},{key:"thread-time",text:"ThreadTime",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.ThreadTime,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.ThreadTime})},{key:"long",text:"Long",canCheck:!0,itemProps:{radioGroup:"format"},checked:this.format===d.vj.Long,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.format=d.vj.Long})},{key:"modifiers",text:"Modifiers",itemType:r.n.Header},{key:"uid",text:"UID",canCheck:!0,checked:this.formatModifierUid,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatModifierUid=!this.formatModifierUid})},{key:"timezone",text:"Timezone",canCheck:!0,checked:this.formatModifierTimezone,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatModifierTimezone=!this.formatModifierTimezone})},{key:"time-header",text:"Time Format",itemType:r.n.Header},{key:"default",text:"Default",canCheck:!0,itemProps:{radioGroup:"time"},checked:"default"===this.formatTime,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatTime="default"})},{key:"year",text:"Year",canCheck:!0,itemProps:{radioGroup:"time"},checked:"year"===this.formatTime,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatTime="year"})},{key:"epoch",text:"Epoch",canCheck:!0,itemProps:{radioGroup:"time"},checked:"epoch"===this.formatTime,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatTime="epoch"})},{key:"monotonic",text:"Monotonic",canCheck:!0,itemProps:{radioGroup:"time"},checked:"monotonic"===this.formatTime,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatTime="monotonic"})},{key:"nanosecondFormat",text:"Nanosecond Format",itemType:r.n.Header},{key:"millisecond",text:"Millisecond",canCheck:!0,itemProps:{radioGroup:"nanosecond"},checked:"millisecond"===this.formatNanosecond,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatNanosecond="millisecond"})},{key:"microsecond",text:"Microsecond",canCheck:!0,itemProps:{radioGroup:"nanosecond"},checked:"microsecond"===this.formatNanosecond,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatNanosecond="microsecond"})},{key:"nanosecond",text:"Nanosecond",canCheck:!0,itemProps:{radioGroup:"nanosecond"},checked:"nanosecond"===this.formatNanosecond,onClick:(0,u.aD)(e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),this.formatNanosecond="nanosecond"})}]}}]},get columns(){return[{width:200,title:"Time",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t];a.timeString||(a.timeString=new Date(1e3*a.seconds).toISOString());let s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:a.timeString})}},{width:60,title:"PID",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t],s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:a.pid})}},{width:60,title:"TID",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t],s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:a.tid})}},{width:80,title:"Priority",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t],s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:d.As[a.priority]})}},{width:300,title:"Tag",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t],s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:a.tag})}},{width:300,flexGrow:1,title:"Message",CellComponent:e=>{let{rowIndex:t,columnIndex:o,className:r,...n}=e,a=this.list[t],s=x();return(0,i.jsx)("div",{className:(0,m.z)(s.code,r),...n,children:a.message})}}]}},{buffer:!1,list:u.LO.shallow,flush:u.aD.bound});(0,u.EH)(()=>{P.GLOBAL_STATE.adb?(0,u.z)(()=>{D.logcat=new d.J(P.GLOBAL_STATE.adb)}):(0,u.z)(()=>{D.logcat=void 0,D.running&&D.stop()})});let T=(0,p.Pi)(function(e){let{className:t,columnIndex:o,...r}=e,n=x();return(0,i.jsx)("div",{className:(0,m.z)(t,n.header),...r,children:D.columns[o].title})}),b={[d.As.Default]:"rowVerbose",[d.As.Unknown]:"rowVerbose",[d.As.Silent]:"rowVerbose",[d.As.Verbose]:"rowVerbose",[d.As.Debug]:"rowDebug",[d.As.Info]:"rowInfo",[d.As.Warn]:"rowWarn",[d.As.Error]:"rowError",[d.As.Fatal]:"rowFatal"},j=(0,p.Pi)(function(e){let{className:t,rowIndex:o,...r}=e,n=x(),a=(0,w.R9)((0,u.aD)(e=>{e.shiftKey&&e.preventDefault(),D.selection.select(o,(0,C.O4)(e),e.shiftKey)}));return(0,i.jsx)("div",{className:(0,m.z)(t,n.row,D.selection.has(o)&&n.selected,n[b[D.list[o].priority]]),onPointerDown:a,...r})});t.default=(0,p.Pi)(()=>{let e=x(),t=(0,y.useCallback)(e=>{if(((0,n.V)()?e.metaKey:e.ctrlKey)&&"KeyA"===e.code){e.preventDefault(),e.stopPropagation(),D.selection.clear(),D.selection.select(D.list.length-1,!1,!0);return}if("Escape"===e.code){e.preventDefault(),e.stopPropagation(),D.selection.clear();return}},[]);return(0,i.jsxs)(a.K,{...w.LE,children:[(0,i.jsx)(g(),{children:(0,i.jsx)("title",{children:"Logcat - Tango"})}),(0,i.jsx)(C.X3,{items:D.commandBar}),(0,i.jsx)(s.v,{grow:!0,children:(0,i.jsx)(C.rj,{className:e.grid,rowCount:D.list.length,rowHeight:32,columns:D.columns,HeaderComponent:T,RowComponent:j,onKeyDown:t})})]})})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2540)}),_N_E=e.O()}]);
//# sourceMappingURL=logcat-4650ea21f5e3d17d.js.map