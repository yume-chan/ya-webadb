(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{3345:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packet-log",function(){return n(5506)}])},5506:function(e,t,n){"use strict";n.r(t);var o=n(4471),l=n(9028),r=n(1252),i=n(9674),a=n(1831),c=n(3189),s=n(228),d=n(2153),g=n(1504),m=n(1330),h=n.n(m),p=n(7178),w=n(7767),u=n(1742);let x={[s.wj.Auth]:"AUTH",[s.wj.Close]:"CLSE",[s.wj.Connect]:"CNXN",[s.wj.OK]:"OKAY",[s.wj.Open]:"OPEN",[s.wj.Write]:"WRTE"},C=new class{get empty(){return!w.d.logs.length}get commandBarItems(){return[{key:"clear",disabled:this.empty,iconProps:{iconName:u.PJ.Delete},text:"Clear",onClick:(0,d.aD)(()=>w.d.clearLog())},{key:"select-all",disabled:this.empty,iconProps:{iconName:u.PJ.Wand},text:"Select All",onClick:(0,d.aD)(()=>{this.selection.clear(),this.selection.select(w.d.logs.length-1,!1,!0)})},{key:"copy",disabled:0===this.selection.size,iconProps:{iconName:u.PJ.Copy},text:"Copy",onClick:()=>{let e="";for(let t of this.selection){let n=w.d.logs[t];e+="".concat(n.timestamp.toISOString(),"	").concat("in"===n.direction?"IN":"OUT","	").concat(x[n.command],"	").concat(n.arg0.toString(16).padStart(8,"0"),"	").concat(n.arg1.toString(16).padStart(8,"0"),"	").concat(Array.from(n.payload).map(e=>e.toString(16).padStart(2,"0")).join(" "),"\n")}navigator.clipboard.writeText(e)}}]}constructor(){this.selection=new p.x$,(0,d.ky)(this,{}),(0,d.EH)(()=>{0===w.d.logs.length&&(0,d.z)(()=>this.selection.clear())})}},S=(0,i.Z)({grow:{height:0},grid:{height:"100%"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...a.q5.overflow("hidden")},hexViewer:{...a.q5.padding("12px"),...a.q5.borderTop("1px","solid","rgb(243, 242, 241)")}}),f=[{title:"Direction",width:100,CellComponent:(0,u.$g)("Direction")(e=>{let{className:t,rowIndex:n,...l}=e,r=w.d.logs[n],i=S();return(0,o.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.direction})})},{title:"Command",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=w.d.logs[n];if(!r.commandString){var i;r.commandString=null!==(i=x[r.command])&&void 0!==i?i:(0,s.FO)(new Uint32Array([r.command]))}let a=S();return(0,o.jsx)("div",{className:(0,c.z)(t,a.code),...l,children:r.commandString})})},{title:"Arg0",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=w.d.logs[n];r.arg0String||(r.arg0String=r.arg0.toString(16).padStart(8,"0"));let i=S();return(0,o.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.arg0String})})},{title:"Arg1",width:100,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=w.d.logs[n];r.arg1String||(r.arg1String=r.arg1.toString(16).padStart(8,"0"));let i=S();return(0,o.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.arg1String})})},{title:"Payload",width:200,flexGrow:1,CellComponent:(0,u.$g)("Command")(e=>{let{className:t,rowIndex:n,...l}=e,r=w.d.logs[n];r.payloadString||(r.payloadString=(0,p.lr)(r.payload.subarray(0,100)));let i=S();return(0,o.jsx)("div",{className:(0,c.z)(t,i.code),...l,children:r.payloadString})})}],y=(0,u.$g)("Header")(e=>{let{className:t,columnIndex:n,...l}=e,r=S();return(0,o.jsx)("div",{className:(0,c.z)(t,r.header),...l,children:f[n].title})}),j=(0,g.Pi)(function(e){let{className:t,rowIndex:n,...l}=e,r=S(),i=(0,u.R9)(e=>{(0,d.z)(()=>{e.shiftKey&&e.preventDefault(),C.selection.select(n,(0,p.O4)(e),e.shiftKey)})});return(0,o.jsx)("div",{className:(0,c.z)(t,r.row,C.selection.has(n)&&r.selected),onPointerDown:i,...l})}),N=()=>{let e=S();return(0,o.jsxs)(l.K,{...u.LE,tokens:{},children:[(0,o.jsx)(h(),{children:(0,o.jsx)("title",{children:"Packet Log - Tango"})}),(0,o.jsx)(p.X3,{items:C.commandBarItems}),(0,o.jsx)(r.v,{className:e.grow,grow:!0,children:(0,o.jsx)(p.rj,{className:e.grid,rowCount:w.d.logs.length,rowHeight:32,columns:f,HeaderComponent:y,RowComponent:j})}),null!==C.selection.selectedIndex&&w.d.logs[C.selection.selectedIndex].payload.length>0&&(0,o.jsx)(r.v,{className:e.grow,grow:!0,children:(0,o.jsx)(p.Kb,{className:e.hexViewer,data:w.d.logs[C.selection.selectedIndex].payload})})]})};t.default=(0,g.Pi)(N)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3345)}),_N_E=e.O()}]);
//# sourceMappingURL=packet-log-dc773da341f74ce3.js.map