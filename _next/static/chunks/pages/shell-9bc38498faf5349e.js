(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{6670:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shell",function(){return t(216)}])},3308:function(e,n,t){"use strict";t.d(n,{i:function(){return v}});var i=t(7472),o=t(3368),s=t(2930),r=t(7146),c=t(5384),a=t(3282),l=t(1498),d=t(9966),h=t(7410),u=t(6723),f=t(1725),v=function(e){(0,s.Z)(t,e);var n=(0,r.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=n.call(this)).element=document.createElement("div"),e.terminal=new d.Terminal({scrollback:9e3}),e.searchAddon=new u.SearchAddon,e.fitAddon=new h.FitAddon,e.element.style.width="100%",e.element.style.height="100%",e.element.style.overflow="hidden",e.terminal.options.fontFamily='"Cascadia Code", Consolas, monospace, "Source Han Sans SC", "Microsoft YaHei"',e.terminal.options.letterSpacing=1,e.terminal.options.cursorStyle="bar",e.terminal.loadAddon(e.searchAddon),e.terminal.loadAddon(e.fitAddon),e}var a=t.prototype;return a.setContainer=function(e){e.appendChild(this.element),this.terminal.element||(this.element.offsetWidth,this.terminal.open(this.element),this.terminal.loadAddon(new f.WebglAddon),this.terminal.options.cursorBlink=!0,this.fit())},a.fit=function(){var e;this.fitAddon.fit();var n=this.terminal,t=n.rows,i=n.cols;null===(e=this._socket)||void 0===e||e.resize(t,i)},(0,o.Z)(t,[{key:"socket",get:function(){return this._socket},set:function(e){var n;this._socket&&(this.dispose(),null===(n=this._socketAbortController)||void 0===n||n.abort());if(this._socket=e,e){var t=this;this.terminal.clear(),this.terminal.reset(),this._socketAbortController=new l.HS,e.stdout.pipeTo(new l.Vj({write:function(e){t.terminal.write(e)}}),{signal:this._socketAbortController.signal});var i=e.stdin.getWriter();this.addDisposable(this.terminal.onData((function(e){var n=(0,c.lz)(e);i.write(n)}))),this.fit()}}}]),t}(a.Xn)},216:function(e,n,t){"use strict";t.r(n);var i,o=t(9405),s=t(4145),r=t(3470),c=t(8833),a=t(7294),l=t(8303),d=t(5943),h=t(3198),u=t(4590),f=t(7076),v=t(3115),m=t(4204),w=t.n(m),x=t(1348),p=(t(1625),t(1361)),b=t(4937),k=t(8298),C=(0,h.Z)({count:(0,o.Z)({},u.q5.padding("0","8px"))}),g=t(3308).i;i=new g;var y={decorations:{matchBackground:"#232422",matchBorder:"#555753",matchOverviewRuler:"#555753",activeMatchBackground:"#ef2929",activeMatchBorder:"#ffffff",activeMatchColorOverviewRuler:"#ef2929"}},A=(0,f.ky)({visible:!1,index:void 0,count:void 0,setVisible:function(e){this.visible=e},searchKeyword:"",setSearchKeyword:function(e){this.searchKeyword=e,i.searchAddon.findNext(e,(0,s.Z)((0,o.Z)({},y),{incremental:!0}))},searchPrevious:function(){i.searchAddon.findPrevious(this.searchKeyword,y)},searchNext:function(){i.searchAddon.findNext(this.searchKeyword,y)}},{searchPrevious:f.aD.bound,searchNext:f.aD.bound});i&&i.searchAddon.onDidChangeResults((function(e){console.log(e),(0,f.z)((function(){e?(A.index=e.resultIndex,A.count=e.resultCount):(A.index=void 0,A.count=void 0)}))})),(0,f.EH)((function(){i&&(b.q.device?!i.socket&&A.visible&&b.q.device.subprocess.shell().then((0,f.aD)((function(e){i.socket=e})),(function(e){b.q.showErrorDialog(e)})):i.socket=void 0)}));var _={iconName:k.PJ.ChevronUp},j={iconName:k.PJ.ChevronDown};n.default=(0,v.Pi)((function(){var e=C(),n=(0,x.useCallback)((function(e,n){A.setSearchKeyword(null!==n&&void 0!==n?n:"")}),[]),t=(0,x.useCallback)((function(){i.fit()}),[]),h=(0,x.useCallback)((function(e){e&&i.setContainer(e)}),[]);return(0,x.useEffect)((function(){return A.setVisible(!0),function(){A.setVisible(!1)}}),[]),(0,r.jsxs)(c.K,(0,s.Z)((0,o.Z)({},k.LE),{children:[(0,r.jsx)(w(),{children:(0,r.jsx)("title",{children:"Interactive Shell - Android Web Toolbox"})}),(0,r.jsx)(a.v,{children:(0,r.jsxs)(c.K,{horizontal:!0,children:[(0,r.jsx)(a.v,{grow:!0,children:(0,r.jsx)(l.R,{placeholder:"Find",value:A.searchKeyword,onChange:n,onSearch:A.searchNext})}),0===A.count?(0,r.jsx)(a.v,{className:e.count,align:"center",children:"No results"}):void 0!==A.count?(0,r.jsxs)(a.v,{className:e.count,align:"center",children:[A.index+1," of ",A.count]}):null,(0,r.jsx)(a.v,{children:(0,r.jsx)(d.h,{disabled:!A.searchKeyword,iconProps:_,onClick:A.searchPrevious})}),(0,r.jsx)(a.v,{children:(0,r.jsx)(d.h,{disabled:!A.searchKeyword,iconProps:j,onClick:A.searchNext})})]})}),(0,r.jsxs)(a.v,{grow:!0,styles:{root:{position:"relative",minHeight:0}},children:[(0,r.jsx)(p.do,{onResize:t}),(0,r.jsx)("div",{ref:h,style:{height:"100%"}})]})]}))}))}},function(e){e.O(0,[740,969,774,888,179],(function(){return n=6670,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=shell-9bc38498faf5349e.js.map